<!DOCTYPE html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8"> 
		<meta name="author"	content="Conrad Davis Jr" />
		<title>Play Books Prototype</title>

		<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic|Josefin+Slab:400,700italic' rel='stylesheet' type='text/css'>

		<script type="text/javascript" src="js/lib/jquery.min.js"></script>
		<script type="text/javascript" src="js/lib/highlight.pack.js"></script>
		<script type="text/javascript" src="js/lib/modernizr.custom.min.js"></script>
		<script type="text/javascript" src="js/lib/greensock/TweenMax.min.js"></script>
		<script type="text/javascript" src="js/lib/scrollmagic/uncompressed/ScrollMagic.js"></script>
		<script type="text/javascript" src="js/lib/scrollmagic/uncompressed/plugins/animation.gsap.js"></script>
		<script type="text/javascript" src="js/lib/scrollmagic/uncompressed/plugins/debug.addIndicators.js"></script>
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
	</head>

	<body>
		<div class="container">

			<header>
				<div class="inner-container">
					<div class="menu-icon"><image src="images/hamburger-icon.png"/></div>
				</div>
			</header>

			<!-- Scene 1 -->
			<section class="section1">
				<div class="inner-container">
					<h2>Welcome to Google Play Books</h2>
					<p>Millions of books at your fingertips. Get personalized recommendations, 
					and read on all your devices without losing your place.</p>
				</div>
				<image class="phone-image" src="images/phone.png"/>
				<image class="book-stack-image" src="images/book-stack.png"/>
			</section>

			<main class="shutters-container">
				<div class="shutter-bg-image"></div>
				<svg id="shutters-svg-container" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 751 667">
					<path id="top-shutter" d="M0 2.5v664l750-210V2.5z"/>
					<path id="bottom-shutter" d="M750 1v666H0V208z"/>
				</svg>
			</main>


			<div id="trigger1" class="spacer s0" style="width: 50%; height: 100px; margin-top: -500px"></div>
			<div id="trigger2" class="spacer s0" style="width: 50%; height: 100px; margin-top: 600px"></div>

		</div>

		<script>
			// init controller
			var controller = new ScrollMagic.Controller();

			// 
			// build scene
			// 

			// INTRO
			var bookIntro = new TimelineMax()
				bookIntro.to(".book-stack-image", 0.5, { ease: Power3.easeIn, right: -150, opacity: 1 })
				bookIntro.fromTo(".phone-image", 1, { right: '-90%' }, { right: '-14%', visibility: 'visible' }, "-=0.3");

			// SCENE 1
			// 
			// open shutters, 

			// build tween
			var booksTween1 = new TimelineMax();
			// booksTween1.stop();
			booksTween1.fromTo(".phone-image", 1, { scale: 1, right: '-14%' }, { scale: 1.2, right: '22%' })
			booksTween1.fromTo(".book-stack-image", 0.1, { right: -150, opacity: 1 }, { right: -300, opacity: 0 }, "-=1")
			booksTween1.to("#top-shutter", 0.5, {y:'-65%'}, "-=1")
			booksTween1.to("#bottom-shutter", 0.5, {y:'53%'}, "-=1");
			// booksTween1.to("#top-shutter", 0.5, {y:'-84.5%'}, "-=1")
			// booksTween1.to("#bottom-shutter", 0.5, {y:'53%'}, "-=1");


			// // build scene 1
			var booksScene1 = new ScrollMagic.Scene({ triggerElement: "#trigger1" })
							.setTween(booksTween1) // trigger a TweenMax.to tween
							.addIndicators({name: "1 (duration: 0)"}) // add indicators (requires plugin)
							.addTo(controller);


			// // STEP 2
			// // build scene
			// var scene2 = new ScrollMagic.Scene({ triggerElement: "#trigger2", duration: 300 })
			// 				.setTween("#top-shutter", 0.5, {top: '-27%'}) // trigger a TweenMax.to tween
			// 				// .addIndicators({name: "1 (duration: 0)"}) // add indicators (requires plugin)
			// 				.addTo(controller);

			// var scene2 = new ScrollMagic.Scene({ triggerElement: "#trigger2", duration: 300 })
			// 				.setTween("#bottom-shutter", 0.5, {bottom: '-13%'}) // trigger a TweenMax.to tween
			// 				// .addIndicators({name: "1 (duration: 0)"}) // add indicators (requires plugin)
			// 				.addTo(controller);

			// build scene
			// var scene = new ScrollMagic.Scene({triggerElement: "#trigger1", duration: 300})
			// 				// animate color and top border in relation to scroll position
			// 				.setTween("#animate1", {borderTop: "30px solid white", backgroundColor: "blue", scale: 0.7}) // the tween durtion can be omitted and defaults to 1
			// 				.addIndicators({name: "2 (duration: 300)"}) // add indicators (requires plugin)
			// 				.addTo(controller);
		</script>
	</body>
</html>
